# 2025-08-09 - Adapter polling implementation

## Context
Need to poll the adapter service for new items and avoid relaying duplicates.

## Decision
Use `adapter_client.fetch_events` within `poll_adapter` to retrieve event data, check `storage.has_relayed` to dedupe, update cursors with actual IDs, and reschedule with exponential backoff on HTTP errors.

## Consequences
- Establishes pattern for future endpoints.
- Provides resilience against transient adapter failures.

## Session storage hardening

### Context
Serialized FetLife user objects were stored directly in PHP sessions, increasing risk of object injection and session fixation.

### Decision
Store only primitive session data (user id, nickname, cookie jar contents) and regenerate the PHP session ID after successful login.

### Consequences
- Reduces attack surface by avoiding unsafe `serialize`/`unserialize` operations.
- Allows session identifiers to rotate, limiting fixation attacks.
